//
//  egpu.swift
//  Swiftly6502
//
//  Created by Will Stafford on 8/1/15.
//  Copyright Â© 2015 Wrsford. All rights reserved.
//

import Foundation
struct Pixel6502 {
	var a = 255
	var r: Int
	var g: Int
	var b: Int
}

let palette = [
	[0x00, 0x00, 0x00], [0xff, 0xff, 0xff], [0x88, 0x00, 0x00], [0xaa, 0xff, 0xee],
	[0xcc, 0x44, 0xcc], [0x00, 0xcc, 0x55], [0x00, 0x00, 0xaa], [0xee, 0xee, 0x77],
	[0xdd, 0x88, 0x55], [0x66, 0x44, 0x00], [0xff, 0x77, 0x77], [0x33, 0x33, 0x33],
	[0x77, 0x77, 0x77], [0xaa, 0xff, 0x66], [0x00, 0x88, 0xff], [0xbb, 0xbb, 0xbb]
]

func getRGBFor6502(_ color: Int) -> (r: UInt8, g: UInt8, b: UInt8) {
	let r = palette[color & 0x0f][0] & 0xff
	let g = palette[color & 0x0f][1] & 0xff
	let b = palette[color & 0x0f][2] & 0xff
	
	return (UInt8(r), UInt8(g), UInt8(b))
}

class egpu {
	//var vram = [Int]()
	var screenHeight = 32
	var screenWidth = 32
	var bitsPerPixel = 8
	
	
	
	/*func pixelAtIndex(index: Int) -> Pixel6502 {
		let color = getRGBFor6502(ram[index+])
	}*/
}
